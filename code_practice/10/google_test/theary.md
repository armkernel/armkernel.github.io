### 단위테스트
- 테스트 패턴이 60-70개가 넘어감
- 디자인 패턴은 23가지 정도가 됨

- 반드시 알아야한다는 테스트 대역에 대해 알아야한다는 것만 정리할 것.
- 어떤 의도를 가지고 사용해야하는지에 대한 것들을 정리.

- 다 완성된 이후 작성하는 것이 아니라.. 만들면서 단위 테스트를 해야함.
  - test driven development가 효과적이다.
    - 테스트 코드 작성하고 -> 제품 코드 작성 
    - refactoring하는 방법 
  - 제품 코드 작성 전 테스트 코드 작성
    - 단위코드를 작성하기 위한 것.
  - 전통적인 객체지향 설계와 비슷할 수도 있다.

#### 소프트웨어 테스팅이란?
- 요구사항에 의해 개발된 산출물이 요구사항과 부합되는지, 여부를 검증하기 위한 작업.
- 커버리지 작성할 시간이 없다. (스타트업)
   - 제품치는게 더 중요할수도,, 개발자에게 시간을 많이준다면.. 
  - 테스트 적응시간 필요. (제품코드 뿐만아니라 테스트 코드도 필요함)

- 테스트 되지 않은 시스템은 버그가 발생하고 버그를 찾는 시간이 더 걸릴 것이다.
  - 테스트 유행타고 있음. SI일.. 

- 에릭마이어 -> 해커 
  - Rx자바..
  - Linq
  - 당신의 회사가 단위테스트를 강요한다면 도망쳐라.
  - 균형적인 시각으로 봐야한다.
  - 효과적으로 적용해야함.

- 문제를 재현하는 코드를 만들어서 테스트가 실패할 것 같은 방법을 제공함.

- ISTQB / E
  - 소프트웨어 테스트 원칙 7가지.

#### 단위 테스트란 무엇인가?
- 단위테스트, 사용자 테스트, 통합테스트
- 단위테스트
  - 다른 코드를 호출한 후 몇 가지 가정이 성립되는지 검사
  - 단위 = 메소드, 함수

  - 단위테스트는 테스트 대상 시스템 (SUT)에 대해 수행한다.
  - SUT -> 테스트 대상 코드
    - 단위 테스트를 작성하는데, 여기서부터 여기까지 테스트 할 거야.. 이런 범위를 SUT , CUT (code under test..) 라고 함.

- 통합테스트
  - 통합테스트자체도 단위 테스트를 이용해서 하는 경우가 많음. 
    - 단위테스트 => 어떤 하나의 기능을 검사
    - 통합테스트 => 여러가지 모듈이 유기적으로 잘 묶여 되는지 (시나리오 테스트)

  - 구별하는 것이 중요하다.
  - 두개이상의 소프트웨어 모듈을 하나의 그룹으로 정의해서 테스트하는 것.

- 단위 테스트의 작성 비용
  - 단위 테스트를 도입했을 때 시간적으로 걸린다.
  - 익숙해지는데 시간이 걸림.

- 단위테스트
  - ***결함국소화*** => 어떤 테스트가 실패했는지를 보고 버그가 무엇인지를 금방 알아낼 수 있어야한다.
  - CUT 보장 
  - 단위테스트와 통합테스트를 구별하는 것
    - 문제를 바로 찾아낼 수있는가?
      - 의존하는 것을 적절하게 끊어줘야함. => Test 대역을 통해 관리 
- Regression
  - 내가 문제를 하나 잡으려고 했더니 다른 문제가 생김
    - 코드를 수정했을 때, 버그로 인해서 다른 문제가 발생하는 것. 

- Legacy 코드
  - 예전부터 누가 만들었는데 지금도 쓰고있다.
    - 개발자의 입장에서 개발하는데.. 기존에 만들어진 코드.. 
      - 기존의 코드를 분석해야해.. => 불안한 작업


#### 테스트 작성방법

1. 완전 자동 테스트 : 수동 조정없이 돌려볼 수 있어야 한다.
2. 자체 검사 테스트 : 직접 조사해보지 않아도 찾아내 알려줄 수 있어야한다.
3. 반복되는 테스트 : 여러번 돌려봐도 같은 결과를 얻을 수 있어야한다.
4. 독립적인 테스트 : 테스트 별로 돌려볼 수 있어야한다.

구글 테스트 강조 => fresh하게 할 수 있도록 정적 라이브러리로 만들어야함.

약속이 필요하다.
 - 조직에서 룰을 만드는 것이 중요하다.
 - 이름만 필터해서 그 부분만 돌리면 된다. 

 - 테스트 코드 제어 구문(if, for, exception)을 사용하면 안된다. (절대 사용x) 
 - 별도의 함수로 만들어서 검증한 후 호출하도록 해야함.

단위 테스트
  한계 : 전체 코드의 coverage를 커버하는 건 힘들다.
        - UI Test못함. 비동기 못함 ( 다른 별도의 도구를 사용해야함 ). MVC => Model View Control 
        - MVC -> View, Controller <- 단위 테스트 작성 불가. Model 만 가능 (20,30%) => MVP
        - MVVM -> Model , View , View Model => 단위테스트가 가능. 화면에 관련된 로직 부분들에 대해 의존성을 끊어버림. => coverage를 올릴 수 있다.

Test 작성 모델 
  - 폭포수 모델..
  - Agile => sprint 단위로 끊어가는 형태 (테스트 친화적으로 변형됨)

- 안에서부터 밖으로, 밖에서부터 안으로
- 관점 차이.. 둘다 알아야함. 내부에는 의존하는게 작아. 테스트 코드 작성부분이 많음. 의존을 끊어주지 않으면 통합테스트로 가버림. 

- BDD (행위 주도 개발) - 밖에서 부터안으로 끊어침. 사용자 인터페이스 기반에서 테스트하는게 좋다.

- Mock을 왜쓰냐?
  - 행위를 검증하기 위한 개념 => google framework.
  - Mock 수 많은 기능들을 제공해준다. 

